(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ea0fb48"],{"02ce":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("music-list",{attrs:{title:t.title,bgImage:t.bgImage,songs:t.songs}})],1)},i=[],r=(s("8e6e"),s("456d"),s("7f7f"),s("ac6a"),s("bd86")),a=s("c237"),o=s("42ba"),c=s("2f62"),l=s("f5de");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach(function(e){Object(r["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var g={data:function(){return{songs:[]}},computed:f({title:function(){return this.disc.dissname},bgImage:function(){return this.disc.imgurl}},Object(c["c"])(["disc"])),created:function(){this._getDiscSong()},methods:{_getDiscSong:function(){var t=this;this.disc.dissid?Object(o["b"])(this.disc.dissid).then(function(e){0===e.code&&(t.songs=t._normalizeSongs(e.cdlist[0].songlist))}):this.$router.push("/recommend")},_normalizeSongs:function(t){var e=[];return t.forEach(function(t){var s={};s.songid=t.id,s.songmid=t.mid,s.singer=t.singer,s.songname=t.name,s.albumname=t.album.name,s.interval=t.interval,s.albummid=t.album.mid,e.push(Object(l["a"])(s))}),e}},components:{MusicList:a["a"]}},b=g,d=(s("7f43"),s("2877")),h=Object(d["a"])(b,n,i,!1,null,"9aaafc6e",null);e["default"]=h.exports},"06bc":function(t,e,s){},"1dc1":function(t,e,s){},"42ba":function(t,e,s){"use strict";s.d(e,"a",function(){return a}),s.d(e,"c",function(){return o}),s.d(e,"b",function(){return c});var n=s("bc3a"),i=s.n(n),r=s("da71");function a(){var t=r["a"]+"api/getBanner",e=Object.assign({},r["b"],{uin:0,platform:"h5",needNewCode:1});return i.a.get(t,{params:e}).then(function(t){return Promise.resolve(t.data)})}function o(){var t=r["a"]+"api/getSongList",e=Object.assign({},r["b"],{picmid:1,rnd:Math.random(),loginUin:0,hostUin:0,platform:"yqq.json",needNewCode:0,categoryId:1e7,sortId:5,sin:0,ein:19});return i.a.get(t,{params:e}).then(function(t){return Promise.resolve(t.data)})}function c(t){var e=r["a"]+"api/getDiscSong",s=Object.assign({},r["b"],{type:1,json:1,utf8:1,onlysong:0,new_format:1,disstid:t,loginUin:0,hostUin:0,platform:"yqq.json",needNewCode:0});return i.a.get(e,{params:s}).then(function(t){return Promise.resolve(t.data)})}},"6b6b":function(t,e,s){"use strict";var n=s("1dc1"),i=s.n(n);i.a},"7f43":function(t,e,s){"use strict";var n=s("06bc"),i=s.n(n);i.a},c237:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"music-list"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),s("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{staticClass:"play-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.songs.length>0,expression:"songs.length>0"}],ref:"playBtn",staticClass:"play",on:{click:t.random}},[s("i",{staticClass:"icon-play"}),s("span",{staticClass:"text"},[t._v("随机播放全部")])])]),s("div",{staticClass:"filter"})]),s("div",{ref:"layer",staticClass:"bg-layer"}),s("div",{ref:"list",staticClass:"list"},[s("div",{staticClass:"song-list-wrapper"},[s("song-list",{attrs:{songs:t.songs,rank:t.rank},on:{select:t.selectItem}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.songs.length||t.refresh,expression:"!songs.length || refresh"}],staticClass:"loading-container"},[s("loading")],1)])])},i=[],r=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("0f63"),o=s("229e"),c=s("bdfe"),l=s("616b"),u=s("510f"),f=s("2f62");function g(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?g(s,!0).forEach(function(e){Object(r["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}o["a"].use(l["a"]);var d={mixins:[u["b"]],data:function(){return{bscroll:null,minTranslateY:0}},props:{bgImage:{type:String,default:""},songs:{type:Array,default:function(){return[]}},title:{type:String,default:""},rank:{type:Boolean,default:!1},refresh:{type:Boolean,default:!1}},computed:{bgStyle:function(){return"background-image:url(".concat(this.bgImage,")")}},mounted:function(){this._initScroll()},methods:b({_initScroll:function(){this.$refs.list.style.top="".concat(this.$refs.bgImage.clientHeight,"px"),this.minTranslateY=40-this.$refs.bgImage.clientHeight,this.bscroll=new o["a"](this.$refs.list,{scrollY:!0,click:!0,pullUpLoad:!0,probeType:3}),this.bscroll.on("scroll",this.onScroll),this.bscroll.on("pullingUp",this.pullingUpHandler)},random:function(){this.randomPlay({list:this.songs})},back:function(){this.$router.back()},onScroll:function(t){this.$refs.layer.style.transform="translate3d(0,".concat(t.y,"px,0)");var e=0,s=1,n=0,i=Math.abs(t.y/this.$refs.bgImage.clientHeight);t.y>0?(e=10,s=1+i):n=Math.min(10,7*i),t.y>this.minTranslateY?(this.$refs.bgImage.style.height="0px",this.$refs.bgImage.style.paddingTop="70%"):(this.$refs.bgImage.style.height="40px",this.$refs.bgImage.style.paddingTop=0,e=10,n=5),this.$refs.bgImage.style.zIndex=e,this.$refs.bgImage.style.transform="scale(".concat(s,")"),this.$refs.bgImage.style.filter="blur(".concat(n,"px)")},pullingUpHandler:function(){this.refresh||(this.$emit("pullData"),this.bscroll.finishPullUp())},selectItem:function(t,e){this.selectPlay({list:this.songs,index:e})},handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.list.style.bottom=e,this.bscroll&&this.bscroll.refresh()}},Object(f["b"])(["selectPlay","randomPlay"])),beforeDestroy:function(){this.bscroll&&this.bscroll.destroy()},watch:{songs:function(){var t=this;setTimeout(function(){t.bscroll.refresh()},20)}},components:{SongList:a["a"],Loading:c["a"]}},h=d,p=(s("6b6b"),s("2877")),m=Object(p["a"])(h,n,i,!1,null,"04d3fe18",null);e["a"]=m.exports}}]);
//# sourceMappingURL=chunk-6ea0fb48.9e53b41c.js.map