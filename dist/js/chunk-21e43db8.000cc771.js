(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21e43db8"],{"1dc1":function(t,e,s){},"5a11":function(t,e,s){},"6b6b":function(t,e,s){"use strict";var n=s("1dc1"),r=s.n(n);r.a},"77a5":function(t,e,s){"use strict";s.d(e,"b",function(){return o}),s.d(e,"a",function(){return c});var n=s("bc3a"),r=s.n(n),i=s("5693"),a=s("da71");function o(){var t="/api/getRank";return r.a.post(t).then(function(t){return Promise.resolve(t.data.req_0)})}function c(t){var e="https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg",s=Object.assign({},a["b"],{topid:t,needNewCode:1,uin:0,tpl:3,page:"detail",type:"top",platform:"h5"});return Object(i["a"])(e,s,a["c"])}},8546:function(t,e,s){"use strict";var n=s("5a11"),r=s.n(n);r.a},b119:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("music-list",{attrs:{title:t.title,bgImage:t.bgImage,songs:t.songs,rank:!0}})],1)},r=[],i=(s("8e6e"),s("456d"),s("ac6a"),s("bd86")),a=s("2f62"),o=s("c237"),c=s("77a5"),l=s("f5de");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var g={data:function(){return{songs:[]}},computed:f({title:function(){return this.topList.title},bgImage:function(){return this.songs.length?this.songs[0].image:""}},Object(a["c"])(["topList"])),created:function(){this._getMusicList()},methods:{_getMusicList:function(){var t=this;this.topList.topId?Object(c["a"])(this.topList.topId).then(function(e){0===e.code&&(t.songs=t._normalize(e.songlist))}):this.$router.push("/rank")},_normalize:function(t){var e=[];return t.forEach(function(t){t.data.albummid&&t.data.songid&&e.push(Object(l["a"])(t.data))}),e}},components:{MusicList:o["a"]}},p=g,b=(s("8546"),s("2877")),h=Object(b["a"])(p,n,r,!1,null,"abef41f8",null);e["default"]=h.exports},c237:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"music-list"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),s("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{staticClass:"play-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.songs.length>0,expression:"songs.length>0"}],ref:"playBtn",staticClass:"play",on:{click:t.random}},[s("i",{staticClass:"icon-play"}),s("span",{staticClass:"text"},[t._v("随机播放全部")])])]),s("div",{staticClass:"filter"})]),s("div",{ref:"layer",staticClass:"bg-layer"}),s("div",{ref:"list",staticClass:"list"},[s("div",{staticClass:"song-list-wrapper"},[s("song-list",{attrs:{songs:t.songs,rank:t.rank},on:{select:t.selectItem}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.songs.length||t.refresh,expression:"!songs.length || refresh"}],staticClass:"loading-container"},[s("loading")],1)])])},r=[],i=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("0f63"),o=s("229e"),c=s("bdfe"),l=s("616b"),u=s("510f"),f=s("2f62");function g(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?g(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}o["a"].use(l["a"]);var b={mixins:[u["b"]],data:function(){return{bscroll:null,minTranslateY:0}},props:{bgImage:{type:String,default:""},songs:{type:Array,default:function(){return[]}},title:{type:String,default:""},rank:{type:Boolean,default:!1},refresh:{type:Boolean,default:!1}},computed:{bgStyle:function(){return"background-image:url(".concat(this.bgImage,")")}},mounted:function(){this._initScroll()},methods:p({_initScroll:function(){this.$refs.list.style.top="".concat(this.$refs.bgImage.clientHeight,"px"),this.minTranslateY=40-this.$refs.bgImage.clientHeight,this.bscroll=new o["a"](this.$refs.list,{scrollY:!0,click:!0,pullUpLoad:!0,probeType:3}),this.bscroll.on("scroll",this.onScroll),this.bscroll.on("pullingUp",this.pullingUpHandler)},random:function(){this.randomPlay({list:this.songs})},back:function(){this.$router.back()},onScroll:function(t){this.$refs.layer.style.transform="translate3d(0,".concat(t.y,"px,0)");var e=0,s=1,n=0,r=Math.abs(t.y/this.$refs.bgImage.clientHeight);t.y>0?(e=10,s=1+r):n=Math.min(10,7*r),t.y>this.minTranslateY?(this.$refs.bgImage.style.height="0px",this.$refs.bgImage.style.paddingTop="70%"):(this.$refs.bgImage.style.height="40px",this.$refs.bgImage.style.paddingTop=0,e=10,n=5),this.$refs.bgImage.style.zIndex=e,this.$refs.bgImage.style.transform="scale(".concat(s,")"),this.$refs.bgImage.style.filter="blur(".concat(n,"px)")},pullingUpHandler:function(){this.refresh||(this.$emit("pullData"),this.bscroll.finishPullUp())},selectItem:function(t,e){this.selectPlay({list:this.songs,index:e})},handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.list.style.bottom=e,this.bscroll&&this.bscroll.refresh()}},Object(f["b"])(["selectPlay","randomPlay"])),beforeDestroy:function(){this.bscroll&&this.bscroll.destroy()},watch:{songs:function(){var t=this;setTimeout(function(){t.bscroll.refresh()},20)}},components:{SongList:a["a"],Loading:c["a"]}},h=b,d=(s("6b6b"),s("2877")),m=Object(d["a"])(h,n,r,!1,null,"04d3fe18",null);e["a"]=m.exports}}]);
//# sourceMappingURL=chunk-21e43db8.000cc771.js.map