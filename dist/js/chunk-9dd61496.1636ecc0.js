(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9dd61496"],{"1dc1":function(t,e,s){},"6b6b":function(t,e,s){"use strict";var n=s("1dc1"),r=s.n(n);r.a},"6d37":function(t,e,s){},8556:function(t,e,s){"use strict";var n=s("6d37"),r=s.n(n);r.a},c237:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"music-list"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),s("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{staticClass:"play-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.songs.length>0,expression:"songs.length>0"}],ref:"playBtn",staticClass:"play",on:{click:t.random}},[s("i",{staticClass:"icon-play"}),s("span",{staticClass:"text"},[t._v("随机播放全部")])])]),s("div",{staticClass:"filter"})]),s("div",{ref:"layer",staticClass:"bg-layer"}),s("div",{ref:"list",staticClass:"list"},[s("div",{staticClass:"song-list-wrapper"},[s("song-list",{attrs:{songs:t.songs,rank:t.rank},on:{select:t.selectItem}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.songs.length||t.refresh,expression:"!songs.length || refresh"}],staticClass:"loading-container"},[s("loading")],1)])])},r=[],i=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("0f63"),o=s("229e"),l=s("bdfe"),c=s("616b"),u=s("510f"),g=s("2f62");function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}o["a"].use(c["a"]);var b={mixins:[u["b"]],data:function(){return{bscroll:null,minTranslateY:0}},props:{bgImage:{type:String,default:""},songs:{type:Array,default:function(){return[]}},title:{type:String,default:""},rank:{type:Boolean,default:!1},refresh:{type:Boolean,default:!1}},computed:{bgStyle:function(){return"background-image:url(".concat(this.bgImage,")")}},mounted:function(){this._initScroll()},methods:h({_initScroll:function(){this.$refs.list.style.top="".concat(this.$refs.bgImage.clientHeight,"px"),this.minTranslateY=40-this.$refs.bgImage.clientHeight,this.bscroll=new o["a"](this.$refs.list,{scrollY:!0,click:!0,pullUpLoad:!0,probeType:3}),this.bscroll.on("scroll",this.onScroll),this.bscroll.on("pullingUp",this.pullingUpHandler)},random:function(){this.randomPlay({list:this.songs})},back:function(){this.$router.back()},onScroll:function(t){this.$refs.layer.style.transform="translate3d(0,".concat(t.y,"px,0)");var e=0,s=1,n=0,r=Math.abs(t.y/this.$refs.bgImage.clientHeight);t.y>0?(e=10,s=1+r):n=Math.min(10,7*r),t.y>this.minTranslateY?(this.$refs.bgImage.style.height="0px",this.$refs.bgImage.style.paddingTop="70%"):(this.$refs.bgImage.style.height="40px",this.$refs.bgImage.style.paddingTop=0,e=10,n=5),this.$refs.bgImage.style.zIndex=e,this.$refs.bgImage.style.transform="scale(".concat(s,")"),this.$refs.bgImage.style.filter="blur(".concat(n,"px)")},pullingUpHandler:function(){this.refresh||(this.$emit("pullData"),this.bscroll.finishPullUp())},selectItem:function(t,e){this.selectPlay({list:this.songs,index:e})},handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.list.style.bottom=e,this.bscroll&&this.bscroll.refresh()}},Object(g["b"])(["selectPlay","randomPlay"])),beforeDestroy:function(){this.bscroll&&this.bscroll.destroy()},watch:{songs:function(){var t=this;setTimeout(function(){t.bscroll.refresh()},20)}},components:{SongList:a["a"],Loading:l["a"]}},p=b,d=(s("6b6b"),s("2877")),m=Object(d["a"])(p,n,r,!1,null,"04d3fe18",null);e["a"]=m.exports},fa12:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("music-list",{attrs:{songs:t.songs,title:t.title,bgImage:t.bgImage,refresh:t.refresh},on:{pullData:t.pullData}})],1)},r=[],i=(s("8e6e"),s("456d"),s("ac6a"),s("bd86")),a=s("2f62"),o=s("7f5c"),l=s("f5de"),c=s("c237");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var f={data:function(){return{num:0,songs:[],refresh:!1}},computed:g({},Object(a["c"])(["singer"]),{title:function(){return this.singer.singer_name},bgImage:function(){return this.singer.singer_pic}}),created:function(){this.singer.singer_name||this.$router.back(),this._getSingerSongs()},methods:{_getSingerSongs:function(){var t=this;if(this.num<0)return null;this.singer.num=this.num,Object(o["b"])(this.singer).then(function(e){0===e.code&&(0===e.data.list.length&&(t.num=-99),t.songs=t.songs.concat(t._normalizeSongs(e.data.list)))})},_normalizeSongs:function(t){var e=[];return t.forEach(function(t){var s=t.musicData;e.push(Object(l["a"])(s))}),e},pullData:function(){var t=this;this.refresh=!0,setTimeout(function(){t.refresh=!1},1e3),this.num=this.num+1,this._getSingerSongs()}},components:{MusicList:c["a"]}},h=f,b=(s("8556"),s("2877")),p=Object(b["a"])(h,n,r,!1,null,"4b7b1fb8",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-9dd61496.1636ecc0.js.map